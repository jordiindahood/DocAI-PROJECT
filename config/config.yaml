# =============================================================================
# DocAI-API â€” Configuration
# =============================================================================

# =============================================================================
# Detection (YOLO)
# =============================================================================
detection:
  model_path: "models/yolov11_2/best-s.pt"
  confidence_threshold: 0.4
  image_size: 1280
  device: "cpu"                  # "cpu" or "cuda"
  classes:
    - "text"

# =============================================================================
# Box Filtering
# =============================================================================
filtering:
  min_confidence: 0.4
  min_area: 300                  # minimum bbox area in px^2

# =============================================================================
# Cropping
# =============================================================================
cropping:
  padding: 3                     # pixels around each crop

# =============================================================================
# OCR (Tesseract)
# =============================================================================
ocr:
  default_psm: 6
  class_psm_map:
    text: 6                      # uniform block of text

# =============================================================================
# OCR Sanity Filter
# =============================================================================
ocr_filter:
  min_text_length: 2
  min_confidence: 0.35
  min_alnum_ratio: 0.5

# =============================================================================
# Layout Reconstruction
# =============================================================================
reconstruction:
  right_margin_ratio: 0.95
  small_gap_ratio: 0.3
  tab_gap_ratio: 2.0
  strong_collision_threshold: 0.30

# =============================================================================
# Export
# =============================================================================
export:
  output_dir: "outputs"
  default_format: "pdf"
  page_width_default: 2480       # A4 width at 300 DPI
  page_height_default: 3508      # A4 height at 300 DPI

# =============================================================================
# API
# =============================================================================
api:
  temp_dir: "temp"
  output_dir: "outputs"
  host: "0.0.0.0"
  port: 8000
  cors_origins:
    - "*"
